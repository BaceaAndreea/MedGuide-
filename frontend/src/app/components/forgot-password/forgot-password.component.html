<div class="forgot-password-container">
  <div class="login-header">
    <h2>{{ 'AUTH.FORGOT_PASSWORD.TITLE' | translate }}</h2>
    <p>{{ 'AUTH.FORGOT_PASSWORD.SUBTITLE' | translate }}</p>
  </div>

  <form [formGroup]="forgotPasswordForm" class="login-form">
    <div class="form-group">
      <label for="email">{{ 'AUTH.FORGOT_PASSWORD.EMAIL' | translate }}</label>
      <div class="input-with-icon">
        <i class="input-icon email-icon"></i>
        <input
          type="email"
          id="email"
          placeholder="{{ 'AUTH.FORGOT_PASSWORD.EMAIL' | translate }}"
          formControlName="email"
          [ngClass]="{'is-invalid': email?.invalid && email?.touched}">
      </div>
      <div *ngIf="email?.invalid && email?.touched" class="invalid-feedback">
        <div *ngIf="email?.errors?.['required']">{{ 'Email is required' | translate }}</div>
        <div *ngIf="email?.errors?.['email']">{{ 'Please enter a valid email' | translate }}</div>
      </div>
    </div>

    <button type="button"
            (click)="onSubmit()"
            class="login-button"
            [disabled]="forgotPasswordForm.invalid || isSubmitting">
      <span>{{ isSubmitting ? ('Processing...' | translate) : ('AUTH.FORGOT_PASSWORD.SUBMIT' | translate) }}</span>
      <i class="button-icon arrow-icon"></i>
    </button>

    <div class="signup-link">
      <button type="button" class="link-button" (click)="goBackToLogin()">
        {{ 'AUTH.FORGOT_PASSWORD.BACK_TO_LOGIN' | translate }}
      </button>
    </div>
  </form>

  <ng-container *ngIf="successMessage">
    <div class="alert-success">
      {{successMessage}}
    </div>
  </ng-container>

  <ng-container *ngIf="errorMessage">
    <div class="alert-error">
      {{errorMessage}}
    </div>
  </ng-container>
</div>

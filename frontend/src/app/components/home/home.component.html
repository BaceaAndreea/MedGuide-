<div class="medguide-container">
  <!-- Header cu logo și buton de autentificare -->
  <div class="header">
    <div class="header-content">
      <div class="logo">
        <div class="icon">
          <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M19 3H5c-1.1 0-1.99.9-1.99 2L3 19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 11h-4v4h-4v-4H6v-4h4V6h4v4h4v4z"/>
          </svg>
        </div>
        <h1 class="logo-text">MedGuide</h1>
      </div>
      <div class="header-right">
        <button class="login-button" (click)="navigateToAuth()">
          <!-- SVG simplu pentru cont; poți folosi FontAwesome, Material Icons etc. -->
          <svg class="login-icon" viewBox="0 0 24 24">
            <path d="M12 12a4 4 0 1 0-4-4 4 4 0 0 0 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
          </svg>
          <span>Intra in cont</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Bara de navigare -->
  <div class="nav-menu">
    <div class="nav-content">
      <div class="nav-links">
        <span>{{ 'NAVIGATION.DOCTORS' | translate }}</span>
        <span>{{ 'NAVIGATION.HOSPITALS' | translate }}</span>
        <span>{{ 'NAVIGATION.SPECIALIZATIONS' | translate }}</span>
      </div>
    </div>
  </div>

  <div class="hero-section-v3">
    <div class="hero-content">
      <div class="hero-text">
        <h1>{{ 'COMMON.TITLE' | translate }}</h1>
        <h2>{{ 'COMMON.SUBTITLE' | translate }}</h2>
      </div>
      <div class="hero-features">
        <div class="feature">
          <div class="feature-icon">
            <i class="fa-solid fa-user-doctor"></i>
          </div>
          <div class="feature-text">{{ 'NAVIGATION.DOCTORS' | translate }}</div>
        </div>
        <div class="feature">
          <div class="feature-icon">
            <i class="fa-solid fa-hospital"></i>
          </div>
          <div class="feature-text">{{ 'NAVIGATION.HOSPITALS' | translate }}</div>
        </div>
        <div class="feature">
          <div class="feature-icon">
            <i class="fa-solid fa-notes-medical"></i>
          </div>
          <div class="feature-text">{{ 'NAVIGATION.SPECIALIZATIONS' | translate }}</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Secțiunea Doctori -->
  <div class="featured-section doctors-section">
    <div class="section-header">
      <h2>{{ 'DOCTORS.TITLE' | translate }}</h2>
      <div class="specialization-filter">
        <select [(ngModel)]="selectedSpecialization" (change)="filterDoctorsBySpecialization()">
          <option [value]="0">{{ 'DOCTORS.SELECT_SPECIALIZATION' | translate }}</option>
          <option *ngFor="let spec of specializations" [value]="spec.specializationId">
            {{ getSpecializationTranslation(spec.description) }}
          </option>
        </select>
      </div>
    </div>

    <!-- Loading indicator -->
    <div class="loading-container" *ngIf="loadingDoctors">
      <div class="spinner"></div>
      <p>{{ 'LOADING.SEARCHING' | translate }}</p>
    </div>

    <!-- Error message -->
    <div class="error-message" *ngIf="errorFetchingDoctors && !loadingDoctors && filteredDoctors.length === 0">
      <p>{{ 'ERROR.FETCH_DOCTORS' | translate }}</p>
    </div>

    <!-- Carousel Doctori -->
    <div class="carousel-container" *ngIf="!loadingDoctors && visibleDoctors.length > 0">
      <button class="carousel-control prev" (click)="prevDoctors()" *ngIf="doctorsStartIndex > 0">
        <i class="fas fa-chevron-left"></i>
      </button>

      <div class="cards-container">
        <div class="doctor-card" *ngFor="let doctor of visibleDoctors">
          <div class="card-image">
            <!-- Use standard src instead of ngSrc -->
            <img [src]="doctor.imageUrl || '/assets/images/doctors/default-doctor.png'"
                 alt="{{ doctor.firstName }} {{ doctor.lastName }}"
                 width="150"
                 height="150">
          </div>
          <div class="card-content">
            <h3>Dr. {{ doctor.firstName }} {{ doctor.lastName }}</h3>
            <p class="specialization">{{ getSpecializationTranslation(doctor.specialization.description) }}</p>
            <p class="hospital">{{ doctor.hospital.name }}</p>
            <button class="appointment-button" (click)="navigateToAuth()">{{ 'APPOINTMENTS.NEW_APPOINTMENT' | translate }}</button>
          </div>
        </div>
      </div>

      <button class="carousel-control next" (click)="nextDoctors()" *ngIf="doctorsStartIndex + doctorsPerPage < filteredDoctors.length">
        <i class="fas fa-chevron-right"></i>
      </button>
    </div>

    <div class="pagination-container" *ngIf="filteredDoctors.length > 0">
      <div class="pagination">
        <button class="pagination-arrow" [disabled]="doctorsStartIndex === 0" (click)="prevDoctors()">
          <i class="fas fa-chevron-left"></i>
        </button>

        <span class="pagination-info">
          Pagina {{ getCurrentDoctorPage() }} din {{ getTotalDoctorPages() }}
        </span>

        <button class="pagination-arrow" [disabled]="doctorsStartIndex + doctorsPerPage >= filteredDoctors.length" (click)="nextDoctors()">
          <i class="fas fa-chevron-right"></i>
        </button>
      </div>
    </div>


    <!-- No results message -->
    <div class="no-results-message" *ngIf="!loadingDoctors && filteredDoctors.length === 0 && !errorFetchingDoctors">
      <p>{{ 'DOCTORS.NO_RESULTS' | translate }}</p>
    </div>
  </div>

  <!-- Secțiunea Spitale -->
  <div class="featured-section hospitals-section">
    <div class="section-header">
      <h2>{{ 'HOSPITALS.TITLE' | translate }}</h2>
    </div>

    <!-- Loading indicator -->
    <div class="loading-container" *ngIf="loadingHospitals">
      <div class="spinner"></div>
      <p>{{ 'LOADING.SEARCHING' | translate }}</p>
    </div>

    <!-- Error message -->
    <div class="error-message" *ngIf="errorFetchingHospitals && !loadingHospitals && hospitals.length === 0">
      <p>{{ 'ERROR.FETCH_HOSPITALS' | translate }}</p>
    </div>

    <!-- Carousel Spitale -->
    <div class="carousel-container" *ngIf="!loadingHospitals && visibleHospitals.length > 0">
      <button class="carousel-control prev" (click)="prevHospitals()" *ngIf="hospitalsStartIndex > 0">
        <i class="fas fa-chevron-left"></i>
      </button>

      <div class="cards-container">
        <div class="hospital-card" *ngFor="let hospital of visibleHospitals">
          <div class="card-image">
            <img [src]="hospital.imageUrl || '/assets/images/hospitals/default-hospital.png'"
                 alt="{{ hospital.name }}"
                 width="150"
                 height="150">
          </div>

          <div class="card-content">
            <h3>{{ hospital.name }}</h3>
            <p class="address">{{ hospital.address }}</p>
            <p class="city">{{ hospital.city }}</p>

            <button class="map-button-gradient"
                    (click)="openHospitalInMaps(hospital)">
              {{ 'HOSPITALS.SEE_ON_MAP' | translate }}
            </button>
          </div>
        </div>
      </div>

      <button class="carousel-control next" (click)="nextHospitals()"
              *ngIf="hospitalsStartIndex + hospitalsPerPage < hospitals.length">
        <i class="fas fa-chevron-right"></i>
      </button>
    </div>


    <div class="pagination-container" *ngIf="hospitals.length > 0">
      <div class="pagination">
        <button class="pagination-arrow" [disabled]="hospitalsStartIndex === 0" (click)="prevHospitals()">
          <i class="fas fa-chevron-left"></i>
        </button>

        <span class="pagination-info">
      Pagina {{ getCurrentHospitalPage() }} din {{ getTotalHospitalPages() }}
    </span>

        <button class="pagination-arrow" [disabled]="hospitalsStartIndex + hospitalsPerPage >= hospitals.length" (click)="nextHospitals()">
          <i class="fas fa-chevron-right"></i>
        </button>
      </div>
    </div>

    <div class="no-results-message" *ngIf="!loadingHospitals && hospitals.length === 0 && !errorFetchingHospitals">
      <p>{{ 'HOSPITALS.NO_RESULTS' | translate }}</p>
    </div>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-content">
      <div class="footer-logo">
        <div class="logo footer-logo-content">
          <div class="icon">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path d="M19 3H5c-1.1 0-1.99.9-1.99 2L3 19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 11h-4v4h-4v-4H6v-4h4V6h4v4h4v4z"/>
            </svg>
          </div>
          <span>MedGuide</span>
        </div>
        <p>© 2025 MedGuide. {{ 'COMMON.TITLE' | translate }}</p>
      </div>
      <div class="footer-links">
        <div class="footer-column">
          <h4>{{ 'NAVIGATION.DOCTORS' | translate }}</h4>
          <a href="javascript:void(0)" (click)="navigateToAuth()">{{ 'DOCTORS.SPECIALIZATIONS' | translate }}</a>
          <a href="javascript:void(0)" (click)="navigateToAuth()">{{ 'DOCTORS.HOSPITALS' | translate }}</a>
        </div>
        <div class="footer-column">
          <h4>{{ 'NAVIGATION.HOSPITALS' | translate }}</h4>
          <a href="javascript:void(0)" (click)="navigateToAuth()">{{ 'HOSPITALS.TITLE' | translate }}</a>
          <a href="javascript:void(0)" (click)="navigateToAuth()">{{ 'HOSPITALS.MAP' | translate }}</a>
        </div>
        <div class="footer-column">
          <h4>{{ 'NAVIGATION.APPOINTMENTS' | translate }}</h4>
          <a href="javascript:void(0)" (click)="navigateToAuth()">{{ 'APPOINTMENTS.NEW_APPOINTMENT' | translate }}</a>
          <a href="javascript:void(0)" (click)="navigateToAuth()">{{ 'APPOINTMENTS.TITLE' | translate }}</a>
        </div>
      </div>
    </div>
  </footer>
</div>
